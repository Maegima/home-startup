netInterface=wlan0

iwctl device list
iwctl station $netInterface scan
iwctl station $netInterface get-networks
iwctl station $netInterface connect SSID

ping google.com

efivar -l

# List disk partition informations
fdisk -l /dev/sdX

# Wipe all partition table data from disk /dev/sdX
sgdisk -Z /dev/sdX

# Create partition 1 at first available position with 512MiB set name to boot and code to EFI System Partition
sgdisk -n 1::512M -c 1:boot -t 1:ef00 /dev/sdX

# Create partition 2 at first available position with 8GiB set name to swap and code to Linux swap
sgdisk -n 2::8G -c 2:swap -t 2:8200 /dev/sdX

# Create partition 3 at first available position with the largest available size set name to root and code to Linux filesystem
sgdisk -N 3 -c 3:root -t 3:8300 /dev/sdX

# List disk partition informations
sgdisk -p /dev/sdX

mkfs.fat -F32 /dev/sdX1
fatlabel /dev/sdX1 BOOT

mkswap /dev/sdX2
swapon /dev/sdX2

mkfs.ext4 /dev/sdX3
e2label /dev/sdX2 ROOT

lsblk

mount /dev/sdX3 /mnt
mkdir /mnt/boot
mkdir /mnt/home
mount /dev/sdX1 /mnt/boot
mount /dev/sdY1 /mnt/home

cp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.bkp
sudo pacman -Sy pacman-contrib
rankmirrors -n 6 /etc/pacman.d/mirrorlist.bkp > /etc/pacman.d/mirrorlist

pacstrap -K /mnt base linux linux-firmware base-devel
genfstab -U -p /mnt >> /mnt/etc/fstab

arch-chroot /mnt
sudo pacman -S nano nano-syntax-highlighting bash-completion git
cd /home
git clone https://github.com/maegima/home-startup.git
nano /etc/locale.gen
cp /home/home-startup/.startup/locale.conf /etc/locale.conf
locale-gen
ln -s /usr/share/zoneinfo/Brazil/East /etc/localtime
hwclock --systohc --utc

echo <hostname> > /etc/hostname

systemctl enable fstrim.timer # trim support for ssd

nano /etc/pacman.conf
/etc/pacman.conf> [multilib]
/etc/pacman.conf> Include = /etc/pacman.d/mirrorlist
sudo pacman -Sy

passwd
useradd -m -g users -G wheel,storage,power -s /bin/bash newuser
passwd newuser
EDITOR=nano visudo
/etc/sudoers.tmp> %wheel ALL=(ALL:ALL) ALL
/etc/sudoers.tmp> Defaults rootpw

mount -t efivarfs efivarfs /sys/firmware/efi/efivars/
ls /sys/firmware/efi/efivars/

.startup/bootloader.sh /dev/sdX1 > /boot/loader/entries/arch.conf

umount -R /mnt
reboot

#Optional dont need
sudo pacman -S dhcpcd
sudo systemctl enable dhcpcd@wlan0.service
#Good to have
sudo pacman -S networkmanager
sudo systemctl enable NetworkManager.service

reboot
sudo pacman -S xorg-server xorg-xinit xorg-apps lightdm lightdm-gtk-greeter i3-wm i3lock i3status dmenu feh kitty ttf-hack-nerd
sudo systemctl enable lightdm
